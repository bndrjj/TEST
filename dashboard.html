<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة إحصائيات الاختبارات</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Cairo', sans-serif; background: #F3F8FA; direction: rtl; color: #19171D; }
        .container { max-width: 1500px; margin: 0 auto; padding: 2rem; }
        .header { background: #fff; border-radius: 28px; padding: 2.8rem; margin-bottom: 2rem; border: 1px solid rgba(43,71,83,0.12); box-shadow: 0 20px 50px rgba(25,23,29,0.08); text-align: center; }
        h1 { font-size: 3rem; font-weight: 900; color: #2F6581; margin: 0 0 1rem 0; }
        .subtitle { font-size: 1.2rem; color: #545355; font-weight: 500; }
        .selector-card { background: #fff; border-radius: 22px; padding: 1.5rem; margin-bottom: 2rem; border: 1px solid rgba(43,71,83,0.12); box-shadow: 0 12px 30px rgba(25,23,29,0.08); display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; justify-content: center; }
        .selector-label { font-size: 1.1rem; color: #545355; font-weight: 600; }
        select { padding: 0.9rem 1.2rem; font-size: 1rem; border-radius: 14px; border: 1px solid rgba(43,71,83,0.15); font-family: 'Cairo', sans-serif; min-width: 320px; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .card { background: #fff; border-radius: 22px; padding: 1.8rem; box-shadow: 0 12px 30px rgba(25,23,29,0.08); border: 1px solid rgba(43,71,83,0.12); }
        .card-label { font-size: 1rem; color: #545355; margin-bottom: 0.4rem; font-weight: 600; }
        .card-value { font-size: 2.8rem; font-weight: 900; color: #2F6581; }
        .card-subtitle { font-size: 0.95rem; color: #545355; margin-top: 0.4rem; }
        .charts-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap: 2rem; margin-bottom: 2rem; }
        .chart-card { background: #fff; border-radius: 24px; padding: 2rem; border: 1px solid rgba(43,71,83,0.12); box-shadow: 0 18px 40px rgba(25,23,29,0.08); }
        .chart-title { font-size: 1.6rem; font-weight: 700; margin-bottom: 1.2rem; color: #2F6581; }
        .chart-container { position: relative; height: 350px; }
        .questions-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-bottom: 2rem; }
        .question-card { background: #F7FAFC; border-radius: 18px; padding: 1.5rem; border: 1px solid rgba(43,71,83,0.12); }
        .question-title { font-size: 1.15rem; font-weight: 700; color: #19171D; margin-bottom: 0.7rem; }
        .question-meta { display: flex; flex-wrap: wrap; gap: 1rem; color: #545355; font-size: 0.95rem; margin-bottom: 0.9rem; }
        .pill { background: rgba(73,138,168,0.12); color: #2F6581; padding: 0.3rem 0.8rem; border-radius: 12px; font-weight: 700; }
        .option-list { display: grid; gap: 0.8rem; }
        .option-item { background: #fff; border-radius: 14px; padding: 0.9rem; border: 1px solid rgba(43,71,83,0.12); }
        .option-item.correct-option { background: #DFF2CB; border: 1px solid #9BC883; box-shadow: 0 0 0 1px rgba(155,200,131,0.28); }
        .correct-badge { background: #79AF63; color: #fff; font-size: 0.8rem; font-weight: 700; padding: 0.25rem 0.6rem; border-radius: 999px; }
        .option-header { display: flex; flex-wrap: wrap; gap: 0.8rem; align-items: center; justify-content: space-between; margin-bottom: 0.4rem; }
        .option-answer { font-weight: 700; color: #19171D; }
        .option-stats { font-size: 0.9rem; color: #545355; }
        .progress-bar { background: rgba(171,189,198,0.35); border-radius: 10px; height: 8px; overflow: hidden; margin-top: 0.5rem; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #498AA8 0%, #2F6581 100%); }
        details { margin-top: 0.5rem; }
        summary { cursor: pointer; color: #2F6581; font-weight: 600; }
        .sector-list { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem; }
        .sector-tag { background: rgba(84,83,85,0.08); padding: 0.2rem 0.6rem; border-radius: 10px; font-size: 0.85rem; color: #545355; }
        .footer { background: #fff; border-radius: 24px; padding: 1.5rem; text-align: center; border: 1px solid rgba(43,71,83,0.12); margin-top: 2rem; box-shadow: 0 12px 30px rgba(25,23,29,0.08); }
        .footer p { margin: 0; color: #545355; font-size: 1.05rem; }
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            select { width: 100%; }
            .charts-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>لوحة إحصائيات الاختبارات</h1>
            <p class="subtitle">تحليل مفصّل بحسب المادة والصف مع توزيع الإجابات والنسب</p>
        </div>

        <div class="selector-card">
            <span class="selector-label">اختر المادة والصف:</span>
            <select id="subjectSelect"></select>
        </div>

        <div class="cards-grid" id="summaryCards"></div>

        <div class="charts-row">
            <div class="chart-card">
                <h2 class="chart-title">توزيع المشاركين حسب النوع</h2>
                <div class="chart-container"><canvas id="genderChart"></canvas></div>
            </div>
            <div class="chart-card">
                <h2 class="chart-title">توزيع المشاركين حسب القطاع (أعلى 8)</h2>
                <div class="chart-container"><canvas id="sectorChart"></canvas></div>
            </div>
        </div>

        <div class="chart-card" style="margin-bottom: 2rem;">
            <h2 class="chart-title">إحصائيات الأسئلة والإجابات لكل مادة</h2>
            <div class="questions-grid" id="questionsContainer"></div>
        </div>

        <div class="footer">
            <p>تم إنشاء هذه اللوحة بناءً على البيانات الفعلية من الملفات المرفقة • جميع الإحصائيات دقيقة ومحدثة</p>
        </div>
    </div>

    <script>
const data={"اللغة العربية - الصف السادس الابتدائي": {"gender_counts": {"بنين": 9706, "بنات": 17994}, "sector_counts": {"النعيرية": 426, "الدمام": 8423, "القطيف": 5268, "حفر الباطن": 6096, "الجبيل": 1913, "الخبر": 3510, "رأس تنورة": 275, "القرية العليا": 207, "الخفجي": 971, "بقيق": 501, "العديد": 110}, "total_students": 27700, "questions": [{"question": "ما مرادف كلمة \"النامي\" الواردة في النص ؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ازدياد الحجم.", "count": 24758, "percentage": 89.4, "sector_percent": {"النعيرية": 1.5, "القطيف": 19.6, "الدمام": 30.2, "حفر الباطن": 22.3, "الجبيل": 6.7, "الخبر": 12.3, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "الناقص.", "count": 1321, "percentage": 4.8, "sector_percent": {"النعيرية": 1.7, "الدمام": 30.3, "الخبر": 14.6, "رأس تنورة": 1.0, "حفر الباطن": 22.5, "الجبيل": 7.0, "بقيق": 2.8, "القطيف": 15.4, "الخفجي": 4.0, "القرية العليا": 0.4, "العديد": 0.4}}, {"answer": "الجامد.", "count": 1236, "percentage": 4.5, "sector_percent": {"الدمام": 33.6, "النعيرية": 1.6, "الخبر": 15.7, "حفر الباطن": 16.5, "الجبيل": 10.1, "رأس تنورة": 1.4, "القطيف": 13.8, "العديد": 1.1, "القرية العليا": 1.2, "بقيق": 1.9, "الخفجي": 3.1}}, {"answer": "الصامت.", "count": 385, "percentage": 1.4, "sector_percent": {"الدمام": 30.9, "الخبر": 19.0, "رأس تنورة": 1.0, "الجبيل": 6.2, "النعيرية": 0.8, "حفر الباطن": 22.3, "القطيف": 12.7, "بقيق": 1.3, "العديد": 1.3, "الخفجي": 2.9, "القرية العليا": 1.6}}]}, {"question": "تتميز النباتات في المناطق الجافة بخصائص تمكنها من:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "مقاومة ظروف الجفاف.", "count": 25469, "percentage": 91.9, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "حفر الباطن": 21.7, "القطيف": 19.8, "الجبيل": 6.9, "الخبر": 12.4, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.6, "بقيق": 1.7, "العديد": 0.3}}, {"answer": "رفع درجات الحرارة.", "count": 872, "percentage": 3.1, "sector_percent": {"النعيرية": 2.2, "الدمام": 31.5, "الخبر": 15.1, "رأس تنورة": 1.3, "حفر الباطن": 24.0, "الجبيل": 8.9, "الخفجي": 2.9, "القرية العليا": 0.9, "القطيف": 9.7, "بقيق": 2.4, "العديد": 1.0}}, {"answer": "عدم تحمل أشعة الشمس", "count": 798, "percentage": 2.9, "sector_percent": {"النعيرية": 1.8, "الدمام": 31.5, "القطيف": 10.9, "الخبر": 14.2, "الجبيل": 6.1, "رأس تنورة": 1.4, "حفر الباطن": 26.4, "الخفجي": 3.0, "العديد": 1.1, "القرية العليا": 1.0, "بقيق": 2.6}}, {"answer": "التوقف عن النمو.", "count": 561, "percentage": 2.0, "sector_percent": {"الدمام": 30.8, "الخبر": 17.1, "حفر الباطن": 25.7, "الجبيل": 6.6, "القطيف": 8.7, "الخفجي": 2.7, "بقيق": 2.9, "القرية العليا": 1.2, "رأس تنورة": 0.7, "النعيرية": 2.0, "العديد": 1.6}}]}, {"question": "الفكرة الرئيسة التي يدور حولها النص هي:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "مخاطر التصحر.", "count": 18264, "percentage": 65.9, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.1, "القطيف": 21.9, "الخبر": 11.6, "حفر الباطن": 22.2, "الجبيل": 6.4, "رأس تنورة": 0.9, "القرية العليا": 0.8, "بقيق": 1.8, "الخفجي": 3.6, "العديد": 0.3}}, {"answer": "طريقة زراعة الأشجار.", "count": 4245, "percentage": 15.3, "sector_percent": {"الدمام": 33.5, "حفر الباطن": 20.8, "الجبيل": 8.0, "الخبر": 14.9, "رأس تنورة": 0.9, "النعيرية": 1.7, "القطيف": 13.6, "الخفجي": 3.4, "العديد": 0.7, "القرية العليا": 0.7, "بقيق": 1.8}}, {"answer": "فوائد التصحر.", "count": 3378, "percentage": 12.2, "sector_percent": {"الدمام": 31.8, "النعيرية": 1.8, "الخبر": 13.9, "الجبيل": 7.3, "رأس تنورة": 1.5, "حفر الباطن": 24.0, "الخفجي": 3.3, "القرية العليا": 0.9, "القطيف": 13.4, "بقيق": 1.9, "العديد": 0.4}}, {"answer": "انجراف التربة.", "count": 1813, "percentage": 6.5, "sector_percent": {"النعيرية": 1.8, "القطيف": 13.3, "الدمام": 34.1, "الخبر": 15.7, "رأس تنورة": 1.0, "الجبيل": 8.3, "حفر الباطن": 19.0, "الخفجي": 3.3, "القرية العليا": 0.7, "بقيق": 2.2, "العديد": 0.7}}]}, {"question": "التصرف السليم عند رؤية شخص يقطع الأشجار لبيعها\"حطباً\" هو:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "توضيح خطر ذلك على البيئة.", "count": 26284, "percentage": 94.9, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "حفر الباطن": 22.1, "القطيف": 19.3, "الجبيل": 6.8, "الخبر": 12.5, "رأس تنورة": 1.0, "القرية العليا": 0.8, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "مساعدته في التقطيع.", "count": 674, "percentage": 2.4, "sector_percent": {"الدمام": 30.9, "الخبر": 16.8, "الجبيل": 8.9, "النعيرية": 1.9, "رأس تنورة": 1.3, "القطيف": 13.4, "حفر الباطن": 19.9, "العديد": 1.0, "الخفجي": 3.6, "بقيق": 1.9, "القرية العليا": 0.4}}, {"answer": "بيع الحطب لصالحي.", "count": 471, "percentage": 1.7, "sector_percent": {"النعيرية": 1.7, "الدمام": 34.2, "الخبر": 12.5, "الجبيل": 7.6, "رأس تنورة": 1.7, "حفر الباطن": 19.5, "بقيق": 4.5, "الخفجي": 3.4, "القطيف": 12.5, "القرية العليا": 0.4, "العديد": 1.9}}, {"answer": "عدم فعل أي شيء.", "count": 271, "percentage": 1.0, "sector_percent": {"القطيف": 13.7, "الدمام": 31.0, "الخبر": 18.1, "الجبيل": 8.9, "النعيرية": 1.5, "الخفجي": 1.8, "العديد": 2.2, "حفر الباطن": 19.2, "رأس تنورة": 2.2, "القرية العليا": 1.1, "بقيق": 0.4}}]}, {"question": "من الأخطار التي تواجه الغطاء النباتي في المملكة العربية السعودية:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "التوسع العمراني.", "count": 24515, "percentage": 88.5, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "حفر الباطن": 22.3, "القطيف": 19.6, "الجبيل": 6.7, "الخبر": 12.2, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "مشروعات الري الحديثة.", "count": 1489, "percentage": 5.4, "sector_percent": {"الدمام": 31.0, "الخبر": 15.9, "الجبيل": 9.3, "رأس تنورة": 1.0, "حفر الباطن": 19.3, "النعيرية": 2.3, "القرية العليا": 0.9, "القطيف": 14.6, "بقيق": 1.7, "العديد": 0.4, "الخفجي": 3.6}}, {"answer": "كثرة الأمطار.", "count": 950, "percentage": 3.4, "sector_percent": {"النعيرية": 1.9, "الدمام": 31.2, "الخبر": 15.6, "رأس تنورة": 1.6, "حفر الباطن": 18.2, "الجبيل": 8.2, "القطيف": 15.1, "بقيق": 2.7, "القرية العليا": 0.8, "العديد": 1.2, "الخفجي": 3.6}}, {"answer": "زراعة النخيل.", "count": 746, "percentage": 2.7, "sector_percent": {"الدمام": 30.4, "القطيف": 12.3, "الخبر": 16.4, "الجبيل": 7.5, "النعيرية": 2.0, "رأس تنورة": 0.9, "حفر الباطن": 21.7, "العديد": 1.6, "الخفجي": 3.6, "بقيق": 2.4, "القرية العليا": 1.1}}]}, {"question": "يُصنف النص السابق من حيث النوع بأنه نص:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "مقالي (معلوماتي).", "count": 17177, "percentage": 62.0, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.4, "القطيف": 22.2, "الخبر": 11.6, "حفر الباطن": 21.4, "رأس تنورة": 0.9, "الجبيل": 6.9, "القرية العليا": 0.7, "بقيق": 1.6, "الخفجي": 3.5, "العديد": 0.3}}, {"answer": "إرشادي.", "count": 9146, "percentage": 33.0, "sector_percent": {"الدمام": 32.1, "حفر الباطن": 23.1, "الجبيل": 6.9, "الخبر": 14.1, "رأس تنورة": 1.1, "القطيف": 14.3, "الخفجي": 3.6, "النعيرية": 1.6, "العديد": 0.3, "القرية العليا": 0.8, "بقيق": 2.0}}, {"answer": "قصصي.", "count": 702, "percentage": 2.5, "sector_percent": {"القطيف": 12.5, "الدمام": 31.2, "الخبر": 17.0, "النعيرية": 1.9, "الجبيل": 6.7, "رأس تنورة": 1.9, "حفر الباطن": 21.2, "بقيق": 2.3, "الخفجي": 3.0, "العديد": 2.1, "القرية العليا": 0.3}}, {"answer": "خطابي.", "count": 675, "percentage": 2.4, "sector_percent": {"الدمام": 31.0, "النعيرية": 2.7, "الخبر": 17.5, "الجبيل": 7.7, "رأس تنورة": 1.8, "حفر الباطن": 21.8, "القرية العليا": 0.6, "العديد": 1.3, "القطيف": 9.0, "الخفجي": 3.7, "بقيق": 3.0}}]}, {"question": "الكلمة التي احتوت على \"همزة متوسطة\" هي", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "المستأنسة", "count": 25011, "percentage": 90.3, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.5, "حفر الباطن": 21.4, "القطيف": 19.8, "الجبيل": 7.0, "الخبر": 12.6, "رأس تنورة": 1.0, "القرية العليا": 0.8, "الخفجي": 3.4, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "قرأ", "count": 1297, "percentage": 4.7, "sector_percent": {"القطيف": 12.3, "الدمام": 28.9, "الخبر": 11.3, "الجبيل": 5.8, "حفر الباطن": 29.3, "العديد": 1.5, "رأس تنورة": 0.9, "النعيرية": 2.8, "الخفجي": 5.0, "القرية العليا": 0.8, "بقيق": 1.5}}, {"answer": "مكافآت", "count": 896, "percentage": 3.2, "sector_percent": {"الدمام": 29.9, "الخبر": 14.8, "الجبيل": 7.6, "الخفجي": 4.0, "رأس تنورة": 1.8, "حفر الباطن": 24.9, "القطيف": 12.1, "القرية العليا": 0.9, "بقيق": 1.8, "العديد": 0.7, "النعيرية": 1.6}}, {"answer": "أكرم", "count": 496, "percentage": 1.8, "sector_percent": {"الدمام": 30.6, "الخبر": 14.3, "النعيرية": 2.2, "الجبيل": 4.8, "رأس تنورة": 1.0, "حفر الباطن": 27.4, "الخفجي": 3.2, "بقيق": 3.2, "العديد": 1.4, "القطيف": 11.5, "القرية العليا": 0.2}}]}, {"question": "خطر \"إضافي\" قد يهدد النباتات (غير الذي ورد في النص):", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ملوحة المياه.", "count": 24658, "percentage": 89.0, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "حفر الباطن": 21.9, "القطيف": 19.9, "الجبيل": 6.8, "الخبر": 12.3, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.6, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "الأسمدة المناسبة.", "count": 1297, "percentage": 4.7, "sector_percent": {"النعيرية": 1.9, "الخبر": 15.3, "الدمام": 31.8, "رأس تنورة": 0.8, "الجبيل": 7.5, "حفر الباطن": 24.7, "القطيف": 10.7, "الخفجي": 3.2, "القرية العليا": 1.3, "العديد": 0.7, "بقيق": 2.1}}, {"answer": "الاهتمام بالزراعة.", "count": 1035, "percentage": 3.7, "sector_percent": {"الدمام": 33.3, "الخبر": 15.7, "رأس تنورة": 1.4, "الجبيل": 8.2, "القطيف": 12.6, "النعيرية": 2.1, "حفر الباطن": 20.7, "العديد": 1.8, "الخفجي": 2.4, "بقيق": 1.4, "القرية العليا": 0.3}}, {"answer": "السقي المعتدل.", "count": 710, "percentage": 2.6, "sector_percent": {"القطيف": 11.5, "الدمام": 27.2, "الخبر": 17.5, "رأس تنورة": 1.7, "الجبيل": 9.0, "حفر الباطن": 23.2, "النعيرية": 2.0, "الخفجي": 2.1, "بقيق": 2.8, "العديد": 1.7, "القرية العليا": 1.3}}]}, {"question": "الكلمة التي تُصنف \"اسم آلة\" من بين الكلمات التالية هي:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "منشار", "count": 26672, "percentage": 96.3, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "القطيف": 19.3, "حفر الباطن": 22.1, "الجبيل": 6.9, "الخبر": 12.5, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "التصحر", "count": 430, "percentage": 1.6, "sector_percent": {"الخبر": 13.7, "الدمام": 33.5, "حفر الباطن": 20.9, "الجبيل": 6.3, "القطيف": 13.5, "رأس تنورة": 0.9, "القرية العليا": 0.5, "العديد": 2.1, "الخفجي": 4.2, "بقيق": 2.3, "النعيرية": 2.1}}, {"answer": "الاكسجين", "count": 412, "percentage": 1.5, "sector_percent": {"النعيرية": 3.2, "الدمام": 31.6, "الخبر": 19.4, "الجبيل": 5.6, "رأس تنورة": 1.2, "العديد": 1.9, "القطيف": 10.7, "حفر الباطن": 21.1, "بقيق": 2.2, "الخفجي": 2.2, "القرية العليا": 1.0}}, {"answer": "السيول", "count": 186, "percentage": 0.7, "sector_percent": {"الجبيل": 7.5, "النعيرية": 3.8, "حفر الباطن": 16.7, "رأس تنورة": 2.7, "القطيف": 12.9, "الدمام": 37.1, "القرية العليا": 2.2, "الخبر": 14.0, "الخفجي": 1.6, "العديد": 1.1, "بقيق": 0.5}}]}, {"question": "ضد كلمة \"الجافة\" الواردة في النص:", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "الرطبة", "count": 25797, "percentage": 93.1, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.3, "حفر الباطن": 22.1, "القطيف": 19.5, "الجبيل": 6.9, "الخبر": 12.5, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "اليابسة", "count": 794, "percentage": 2.9, "sector_percent": {"الدمام": 30.4, "الخبر": 15.2, "الجبيل": 6.3, "رأس تنورة": 1.5, "النعيرية": 2.6, "حفر الباطن": 23.7, "الخفجي": 4.4, "القرية العليا": 0.9, "القطيف": 12.1, "بقيق": 1.6, "العديد": 1.3}}, {"answer": "القاحلة", "count": 781, "percentage": 2.8, "sector_percent": {"النعيرية": 2.0, "القطيف": 13.3, "الدمام": 32.7, "حفر الباطن": 20.2, "الجبيل": 8.3, "رأس تنورة": 1.0, "الخبر": 15.4, "الخفجي": 3.1, "بقيق": 2.2, "العديد": 1.3, "القرية العليا": 0.5}}, {"answer": "الصلبة", "count": 328, "percentage": 1.2, "sector_percent": {"الدمام": 33.2, "النعيرية": 2.4, "الخبر": 17.4, "الجبيل": 7.3, "القطيف": 12.2, "رأس تنورة": 1.5, "حفر الباطن": 16.8, "بقيق": 2.1, "العديد": 3.4, "القرية العليا": 1.8, "الخفجي": 1.8}}]}]}, "الرياضيات - الصف السادس الابتدائي": {"gender_counts": {"بنين": 9706, "بنات": 17994}, "sector_counts": {"النعيرية": 426, "الدمام": 8423, "القطيف": 5268, "حفر الباطن": 6096, "الجبيل": 1913, "الخبر": 3510, "رأس تنورة": 275, "القرية العليا": 207, "الخفجي": 971, "بقيق": 501, "العديد": 110}, "total_students": 27700, "questions": [{"question": "Column", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "أ", "count": 12961, "percentage": 46.8, "sector_percent": {"النعيرية": 1.4, "الدمام": 28.3, "حفر الباطن": 21.8, "القطيف": 23.9, "الخبر": 10.7, "رأس تنورة": 1.0, "الجبيل": 6.3, "الخفجي": 3.7, "العديد": 0.3, "القرية العليا": 0.7, "بقيق": 1.9}}, {"answer": "ج", "count": 6855, "percentage": 24.7, "sector_percent": {"الدمام": 32.8, "النعيرية": 1.6, "الخبر": 14.0, "حفر الباطن": 21.4, "رأس تنورة": 0.7, "القطيف": 15.4, "الجبيل": 7.8, "بقيق": 1.6, "القرية العليا": 0.9, "الخفجي": 3.3, "العديد": 0.4}}, {"answer": "ب", "count": 5930, "percentage": 21.4, "sector_percent": {"النعيرية": 1.7, "الدمام": 31.2, "القطيف": 14.6, "الخبر": 14.4, "الجبيل": 7.3, "رأس تنورة": 1.2, "القرية العليا": 0.6, "حفر الباطن": 23.6, "الخفجي": 3.2, "بقيق": 1.9, "العديد": 0.3}}, {"answer": "د", "count": 1954, "percentage": 7.1, "sector_percent": {"الدمام": 33.2, "النعيرية": 1.9, "الجبيل": 6.6, "الخبر": 15.8, "رأس تنورة": 1.3, "حفر الباطن": 20.9, "الخفجي": 3.9, "القطيف": 12.5, "القرية العليا": 0.8, "العديد": 1.1, "بقيق": 1.9}}]}, {"question": "Column1", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "د", "count": 16447, "percentage": 59.4, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.4, "القطيف": 22.8, "الجبيل": 6.6, "الخبر": 11.4, "حفر الباطن": 21.3, "رأس تنورة": 0.9, "القرية العليا": 0.8, "الخفجي": 3.4, "العديد": 0.3, "بقيق": 1.8}}, {"answer": "ب", "count": 6015, "percentage": 21.7, "sector_percent": {"الدمام": 33.1, "حفر الباطن": 21.1, "النعيرية": 1.5, "الخبر": 14.8, "رأس تنورة": 1.1, "الجبيل": 8.2, "بقيق": 1.9, "القطيف": 14.0, "الخفجي": 3.3, "العديد": 0.3, "القرية العليا": 0.6}}, {"answer": "أ", "count": 2948, "percentage": 10.6, "sector_percent": {"الدمام": 30.7, "النعيرية": 2.4, "الخبر": 13.6, "الجبيل": 5.8, "رأس تنورة": 1.1, "حفر الباطن": 27.4, "القطيف": 11.4, "الخفجي": 4.0, "القرية العليا": 0.8, "بقيق": 1.8, "العديد": 0.9}}, {"answer": "ج", "count": 2290, "percentage": 8.3, "sector_percent": {"الدمام": 30.5, "الخبر": 15.1, "رأس تنورة": 0.8, "القطيف": 14.4, "حفر الباطن": 22.6, "الجبيل": 7.2, "الخفجي": 4.2, "القرية العليا": 0.7, "بقيق": 2.1, "النعيرية": 1.7, "العديد": 0.8}}]}, {"question": "Column2", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ج", "count": 17211, "percentage": 62.1, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.0, "القطيف": 21.8, "الخبر": 11.4, "حفر الباطن": 22.7, "الجبيل": 6.3, "القرية العليا": 0.8, "رأس تنورة": 1.0, "الخفجي": 3.5, "العديد": 0.3, "بقيق": 1.8}}, {"answer": "ب", "count": 7333, "percentage": 26.5, "sector_percent": {"النعيرية": 1.8, "الدمام": 33.3, "حفر الباطن": 20.2, "الجبيل": 8.3, "الخبر": 14.5, "رأس تنورة": 1.0, "الخفجي": 3.3, "القطيف": 14.7, "بقيق": 1.7, "القرية العليا": 0.7, "العديد": 0.5}}, {"answer": "أ", "count": 1796, "percentage": 6.5, "sector_percent": {"النعيرية": 1.7, "الدمام": 32.0, "الخبر": 15.4, "رأس تنورة": 0.9, "حفر الباطن": 22.8, "الجبيل": 6.7, "القرية العليا": 0.7, "القطيف": 13.0, "الخفجي": 4.0, "بقيق": 2.1, "العديد": 0.7}}, {"answer": "د", "count": 1360, "percentage": 4.9, "sector_percent": {"الدمام": 30.8, "الخبر": 14.8, "الجبيل": 7.6, "رأس تنورة": 0.8, "النعيرية": 1.8, "حفر الباطن": 21.8, "القطيف": 14.9, "الخفجي": 3.9, "القرية العليا": 0.7, "بقيق": 2.1, "العديد": 0.9}}]}, {"question": "Column3", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ج", "count": 14647, "percentage": 52.9, "sector_percent": {"النعيرية": 1.2, "الدمام": 28.4, "القطيف": 23.3, "حفر الباطن": 22.4, "رأس تنورة": 0.9, "الجبيل": 6.2, "الخبر": 11.1, "بقيق": 1.9, "القرية العليا": 0.8, "الخفجي": 3.5, "العديد": 0.3}}, {"answer": "أ", "count": 5755, "percentage": 20.8, "sector_percent": {"النعيرية": 1.6, "الدمام": 32.3, "الخبر": 14.7, "رأس تنورة": 0.9, "القطيف": 15.0, "حفر الباطن": 21.2, "الجبيل": 8.0, "الخفجي": 3.7, "القرية العليا": 0.7, "العديد": 0.4, "بقيق": 1.4}}, {"answer": "ب", "count": 3661, "percentage": 13.2, "sector_percent": {"الدمام": 32.4, "الجبيل": 7.5, "الخبر": 14.1, "حفر الباطن": 22.4, "رأس تنورة": 1.3, "القرية العليا": 0.6, "النعيرية": 2.5, "القطيف": 13.0, "الخفجي": 3.3, "بقيق": 2.4, "العديد": 0.5}}, {"answer": "د", "count": 3637, "percentage": 13.1, "sector_percent": {"الدمام": 33.4, "النعيرية": 1.8, "الخبر": 14.4, "الجبيل": 7.2, "رأس تنورة": 1.1, "حفر الباطن": 21.2, "الخفجي": 3.5, "القطيف": 14.2, "القرية العليا": 0.7, "بقيق": 1.7, "العديد": 0.7}}]}, {"question": "ثلاث شجرات أطوالها أعداد صحيحة من الأمتار ، طول الشجرة الثانية يساوي نصف طول الشجرة الأولى، والشجرة الثالثة أطول من الثانية وأقصر من الأولى، إذا كان مجموع ارتفاعات الأشجار ٢٤ مترًا، فما طول الشجرة الث", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "٥م ، ٩م", "count": 19029, "percentage": 68.7, "sector_percent": {"النعيرية": 1.4, "القطيف": 21.0, "الدمام": 29.9, "حفر الباطن": 21.5, "الجبيل": 6.8, "الخبر": 12.2, "رأس تنورة": 1.0, "القرية العليا": 0.8, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "٥م ، ٧م", "count": 4219, "percentage": 15.2, "sector_percent": {"الدمام": 30.2, "النعيرية": 1.6, "الخبر": 13.6, "الجبيل": 7.1, "رأس تنورة": 1.0, "حفر الباطن": 24.0, "الخفجي": 3.7, "القطيف": 15.7, "بقيق": 2.1, "العديد": 0.6, "القرية العليا": 0.7}}, {"answer": "٥م ، ٦ م", "count": 2452, "percentage": 8.9, "sector_percent": {"النعيرية": 2.4, "الدمام": 34.7, "الخبر": 14.7, "الجبيل": 7.5, "رأس تنورة": 1.3, "حفر الباطن": 20.1, "القرية العليا": 0.9, "الخفجي": 2.5, "القطيف": 13.2, "العديد": 0.7, "بقيق": 2.0}}, {"answer": "٥م ، ١٠م", "count": 2000, "percentage": 7.2, "sector_percent": {"الدمام": 30.6, "الخبر": 13.1, "رأس تنورة": 1.0, "الجبيل": 7.0, "حفر الباطن": 25.1, "النعيرية": 1.5, "القطيف": 14.5, "الخفجي": 4.3, "القرية العليا": 0.7, "بقيق": 1.4, "العديد": 0.9}}]}, {"question": "Column4", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ج", "count": 11326, "percentage": 40.9, "sector_percent": {"الدمام": 29.3, "القطيف": 20.1, "النعيرية": 1.4, "الخبر": 12.5, "الجبيل": 6.9, "رأس تنورة": 1.1, "حفر الباطن": 22.2, "الخفجي": 3.4, "القرية العليا": 0.9, "بقيق": 1.8, "العديد": 0.4}}, {"answer": "ب", "count": 6900, "percentage": 24.9, "sector_percent": {"النعيرية": 1.6, "حفر الباطن": 23.6, "الدمام": 31.8, "الخبر": 13.1, "الجبيل": 7.2, "رأس تنورة": 1.0, "بقيق": 1.8, "القطيف": 14.9, "الخفجي": 3.8, "العديد": 0.4, "القرية العليا": 0.6}}, {"answer": "أ", "count": 6299, "percentage": 22.7, "sector_percent": {"النعيرية": 1.7, "الدمام": 29.5, "القطيف": 22.9, "الجبيل": 6.6, "الخبر": 11.7, "رأس تنورة": 1.0, "القرية العليا": 0.6, "حفر الباطن": 20.8, "الخفجي": 3.1, "العديد": 0.4, "بقيق": 1.7}}, {"answer": "د", "count": 3175, "percentage": 11.5, "sector_percent": {"النعيرية": 1.6, "الدمام": 33.3, "الخبر": 14.3, "حفر الباطن": 20.4, "رأس تنورة": 0.7, "الجبيل": 6.7, "الخفجي": 3.7, "القطيف": 16.3, "القرية العليا": 0.8, "بقيق": 1.9, "العديد": 0.4}}]}, {"question": "Column5", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ج", "count": 10489, "percentage": 37.9, "sector_percent": {"النعيرية": 1.6, "الدمام": 30.9, "حفر الباطن": 22.0, "الجبيل": 7.8, "الخبر": 13.4, "رأس تنورة": 1.0, "القطيف": 16.6, "القرية العليا": 0.6, "بقيق": 1.7, "الخفجي": 4.1, "العديد": 0.3}}, {"answer": "د", "count": 9162, "percentage": 33.1, "sector_percent": {"الدمام": 28.0, "القطيف": 27.2, "الخبر": 10.6, "النعيرية": 1.1, "رأس تنورة": 0.9, "حفر الباطن": 20.6, "الجبيل": 5.7, "الخفجي": 2.9, "القرية العليا": 0.8, "بقيق": 1.9, "العديد": 0.3}}, {"answer": "ب", "count": 4677, "percentage": 16.9, "sector_percent": {"الدمام": 33.0, "النعيرية": 2.0, "الخبر": 14.1, "رأس تنورة": 1.2, "الجبيل": 7.1, "حفر الباطن": 23.3, "الخفجي": 3.3, "القطيف": 13.3, "بقيق": 1.5, "القرية العليا": 0.6, "العديد": 0.6}}, {"answer": "أ", "count": 3372, "percentage": 12.2, "sector_percent": {"النعيرية": 1.9, "الدمام": 31.9, "الجبيل": 7.4, "رأس تنورة": 0.9, "القطيف": 12.1, "حفر الباطن": 24.1, "الخبر": 14.1, "القرية العليا": 1.0, "الخفجي": 3.4, "العديد": 0.8, "بقيق": 2.4}}]}, {"question": "Column6", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "أ", "count": 20459, "percentage": 73.9, "sector_percent": {"النعيرية": 1.4, "القطيف": 20.9, "الدمام": 29.6, "حفر الباطن": 22.7, "الخبر": 11.6, "الجبيل": 6.5, "رأس تنورة": 1.0, "القرية العليا": 0.8, "الخفجي": 3.6, "العديد": 0.3, "بقيق": 1.7}}, {"answer": "ب", "count": 3292, "percentage": 11.9, "sector_percent": {"النعيرية": 1.8, "الدمام": 33.1, "الجبيل": 7.2, "الخبر": 15.1, "رأس تنورة": 1.2, "حفر الباطن": 21.2, "الخفجي": 3.2, "القطيف": 14.0, "بقيق": 2.0, "القرية العليا": 0.5, "العديد": 0.6}}, {"answer": "ج", "count": 2230, "percentage": 8.1, "sector_percent": {"الدمام": 33.0, "النعيرية": 2.0, "الخبر": 15.7, "رأس تنورة": 1.1, "الجبيل": 7.8, "حفر الباطن": 20.1, "بقيق": 2.3, "الخفجي": 3.2, "القطيف": 13.2, "القرية العليا": 0.8, "العديد": 0.9}}, {"answer": "د", "count": 1719, "percentage": 6.2, "sector_percent": {"الدمام": 31.6, "الخبر": 16.5, "رأس تنورة": 0.6, "الجبيل": 9.9, "النعيرية": 1.9, "القطيف": 14.3, "حفر الباطن": 18.1, "الخفجي": 3.0, "القرية العليا": 0.7, "العديد": 1.0, "بقيق": 2.3}}]}, {"question": "Column7", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "أ", "count": 12260, "percentage": 44.3, "sector_percent": {"النعيرية": 1.2, "الدمام": 27.7, "القطيف": 26.3, "الخبر": 11.0, "حفر الباطن": 20.7, "رأس تنورة": 0.8, "الجبيل": 6.2, "الخفجي": 3.3, "بقيق": 1.8, "العديد": 0.3, "القرية العليا": 0.7}}, {"answer": "ج", "count": 6631, "percentage": 23.9, "sector_percent": {"الدمام": 33.1, "النعيرية": 1.7, "الجبيل": 7.9, "الخبر": 14.6, "حفر الباطن": 22.9, "رأس تنورة": 1.1, "القطيف": 12.5, "الخفجي": 3.2, "القرية العليا": 0.6, "بقيق": 2.0, "العديد": 0.3}}, {"answer": "د", "count": 4796, "percentage": 17.3, "sector_percent": {"الدمام": 33.3, "النعيرية": 1.7, "الخبر": 14.5, "الجبيل": 7.2, "رأس تنورة": 1.2, "حفر الباطن": 22.4, "بقيق": 1.8, "القرية العليا": 1.0, "العديد": 0.6, "القطيف": 12.7, "الخفجي": 3.8}}, {"answer": "ب", "count": 4013, "percentage": 14.5, "sector_percent": {"حفر الباطن": 24.0, "النعيرية": 2.0, "الدمام": 30.7, "الخبر": 12.5, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الجبيل": 7.2, "الخفجي": 4.3, "القطيف": 15.3, "بقيق": 1.7, "العديد": 0.6}}]}, {"question": "Column8", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "ب", "count": 19186, "percentage": 69.3, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.6, "القطيف": 21.3, "حفر الباطن": 21.7, "الخبر": 12.0, "الجبيل": 6.6, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "ج", "count": 4345, "percentage": 15.7, "sector_percent": {"النعيرية": 1.9, "الدمام": 32.5, "الخبر": 13.2, "حفر الباطن": 23.0, "رأس تنورة": 0.9, "الجبيل": 7.1, "القطيف": 14.3, "القرية العليا": 0.8, "الخفجي": 3.7, "بقيق": 2.0, "العديد": 0.6}}, {"answer": "أ", "count": 2288, "percentage": 8.3, "sector_percent": {"النعيرية": 1.7, "الدمام": 31.8, "الخبر": 14.9, "رأس تنورة": 1.2, "الجبيل": 7.9, "حفر الباطن": 24.0, "القطيف": 12.4, "الخفجي": 3.1, "العديد": 0.6, "بقيق": 1.9, "القرية العليا": 0.5}}, {"answer": "د", "count": 1881, "percentage": 6.8, "sector_percent": {"النعيرية": 1.9, "الدمام": 31.8, "الجبيل": 8.0, "الخبر": 15.4, "حفر الباطن": 20.4, "رأس تنورة": 1.2, "القطيف": 14.5, "الخفجي": 3.7, "القرية العليا": 1.0, "بقيق": 1.7, "العديد": 0.5}}]}]}, "العلوم - الصف السادس الابتدائي": {"gender_counts": {"بنين": 9706, "بنات": 17994}, "sector_counts": {"النعيرية": 426, "الدمام": 8423, "القطيف": 5268, "حفر الباطن": 6096, "الجبيل": 1913, "الخبر": 3510, "رأس تنورة": 275, "القرية العليا": 207, "الخفجي": 971, "بقيق": 501, "العديد": 110}, "total_students": 27700, "questions": [{"question": "إحدى السمات التالية لا تنطبق على الإنسان.", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "التبادل الغازي عن طريق الجلد", "count": 22596, "percentage": 81.6, "sector_percent": {"النعيرية": 1.4, "الدمام": 30.2, "القطيف": 20.3, "حفر الباطن": 21.9, "الجبيل": 6.9, "الخبر": 12.2, "رأس تنورة": 1.0, "القرية العليا": 0.7, "بقيق": 1.8, "الخفجي": 3.4, "العديد": 0.3}}, {"answer": "يمتلك جهاز دوران مغلق", "count": 2791, "percentage": 10.1, "sector_percent": {"النعيرية": 2.5, "الدمام": 30.6, "الخبر": 14.0, "حفر الباطن": 24.7, "رأس تنورة": 1.0, "الجبيل": 6.2, "الخفجي": 4.2, "القطيف": 13.4, "القرية العليا": 0.9, "بقيق": 1.8, "العديد": 0.7}}, {"answer": "التبادل الغازي عن طريق الرئتين", "count": 1584, "percentage": 5.7, "sector_percent": {"الدمام": 31.9, "النعيرية": 1.3, "الخبر": 15.3, "رأس تنورة": 1.3, "الجبيل": 8.2, "حفر الباطن": 20.5, "القطيف": 13.8, "الخفجي": 3.8, "العديد": 0.9, "بقيق": 2.3, "القرية العليا": 0.6}}, {"answer": "يتكاثر بالولادة", "count": 729, "percentage": 2.6, "sector_percent": {"الدمام": 33.9, "رأس تنورة": 1.2, "حفر الباطن": 19.2, "الجبيل": 6.3, "الخبر": 17.6, "النعيرية": 2.1, "الخفجي": 2.9, "القطيف": 12.9, "بقيق": 1.9, "القرية العليا": 1.0, "العديد": 1.1}}]}, {"question": "أيُّ العبارات التالية تساعدك على تحديد الخلية النباتية في الشكل؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "الفجوة الكبيرة في الرسم (2)", "count": 17368, "percentage": 62.7, "sector_percent": {"النعيرية": 1.4, "الدمام": 28.9, "حفر الباطن": 21.7, "القطيف": 22.5, "الخبر": 11.8, "الجبيل": 6.8, "رأس تنورة": 0.9, "القرية العليا": 0.7, "بقيق": 1.5, "الخفجي": 3.4, "العديد": 0.2}}, {"answer": "الغشاء الخلوي في الرسم (2)", "count": 5842, "percentage": 21.1, "sector_percent": {"القطيف": 14.4, "الدمام": 33.0, "الجبيل": 7.4, "الخبر": 14.4, "رأس تنورة": 1.2, "حفر الباطن": 20.8, "النعيرية": 1.5, "الخفجي": 3.4, "العديد": 0.6, "القرية العليا": 0.8, "بقيق": 2.4}}, {"answer": "السيتوبلازم في الرسم (1)", "count": 2809, "percentage": 10.1, "sector_percent": {"الدمام": 31.8, "الخبر": 13.3, "رأس تنورة": 1.3, "الجبيل": 6.9, "حفر الباطن": 25.6, "الخفجي": 4.2, "النعيرية": 2.2, "القطيف": 11.2, "القرية العليا": 1.1, "بقيق": 1.7, "العديد": 0.6}}, {"answer": "الميتوكوندريا في الرسم (1)", "count": 1681, "percentage": 6.1, "sector_percent": {"الدمام": 34.3, "النعيرية": 1.7, "الخبر": 14.0, "حفر الباطن": 23.6, "الجبيل": 5.7, "القطيف": 12.0, "القرية العليا": 0.8, "رأس تنورة": 0.7, "الخفجي": 3.6, "بقيق": 2.5, "العديد": 1.1}}]}, {"question": "وجد طالب صخرًا يحتوي على طبقات واضحة وبداخله بقايا كائنات. ما نوع الصخر غالبًا؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "رسوبي", "count": 22601, "percentage": 81.6, "sector_percent": {"النعيرية": 1.4, "الدمام": 30.0, "حفر الباطن": 22.0, "القطيف": 20.5, "الخبر": 12.0, "رأس تنورة": 1.0, "الجبيل": 6.8, "القرية العليا": 0.7, "الخفجي": 3.7, "بقيق": 1.8, "العديد": 0.3}}, {"answer": "متحول", "count": 3147, "percentage": 11.4, "sector_percent": {"الدمام": 32.2, "الجبيل": 7.3, "الخبر": 14.7, "رأس تنورة": 1.0, "حفر الباطن": 22.2, "النعيرية": 2.3, "القطيف": 13.7, "القرية العليا": 1.0, "الخفجي": 2.9, "بقيق": 2.0, "العديد": 0.7}}, {"answer": "ناري", "count": 989, "percentage": 3.6, "sector_percent": {"النعيرية": 2.5, "الدمام": 32.2, "الخبر": 16.3, "الجبيل": 6.8, "رأس تنورة": 1.5, "حفر الباطن": 23.1, "العديد": 1.2, "الخفجي": 2.6, "القطيف": 10.9, "القرية العليا": 0.6, "بقيق": 2.3}}, {"answer": "زجاج بركاني", "count": 963, "percentage": 3.5, "sector_percent": {"القطيف": 9.8, "الدمام": 33.5, "الخبر": 18.9, "الجبيل": 7.8, "النعيرية": 1.7, "رأس تنورة": 0.6, "حفر الباطن": 21.4, "الخفجي": 2.9, "القرية العليا": 0.5, "بقيق": 1.6, "العديد": 1.3}}]}, {"question": "خلط طالب الخلّ مع بيكربونات الصوديوم، فلاحظ تصاعد فقاعات غازية. ما الاستنتاج الصحيح؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "حدث تغير كيميائي لأن مادة جديدة تكوّنت", "count": 24341, "percentage": 87.9, "sector_percent": {"النعيرية": 1.5, "القطيف": 20.0, "الدمام": 30.1, "حفر الباطن": 21.8, "الجبيل": 7.0, "الخبر": 12.4, "رأس تنورة": 1.0, "القرية العليا": 0.8, "بقيق": 1.8, "الخفجي": 3.5, "العديد": 0.3}}, {"answer": "حدث تغير فيزيائي فقط", "count": 2239, "percentage": 8.1, "sector_percent": {"النعيرية": 2.4, "الدمام": 32.2, "الخبر": 15.1, "رأس تنورة": 1.0, "الجبيل": 6.3, "الخفجي": 4.1, "حفر الباطن": 23.9, "العديد": 0.8, "القطيف": 11.6, "القرية العليا": 0.5, "بقيق": 2.1}}, {"answer": "لم يحدث أي تغير", "count": 662, "percentage": 2.4, "sector_percent": {"الدمام": 31.7, "حفر الباطن": 26.3, "الجبيل": 4.5, "الخبر": 13.6, "النعيرية": 1.5, "القطيف": 14.0, "الخفجي": 3.3, "رأس تنورة": 0.8, "القرية العليا": 0.8, "بقيق": 2.4, "العديد": 1.1}}, {"answer": "دليل على تغير في اللون فقط", "count": 458, "percentage": 1.7, "sector_percent": {"الدمام": 37.8, "الخبر": 15.7, "الجبيل": 6.6, "حفر الباطن": 19.9, "النعيرية": 1.1, "الخفجي": 3.3, "القطيف": 10.0, "القرية العليا": 0.7, "بقيق": 2.2, "رأس تنورة": 0.4, "العديد": 2.4}}]}, {"question": "في نشاط استكشافي، طلب المعلم من الطلاب، تحديد المادة الأنسب التي تسمح بتحريك المروحة عند توصيلها بالنقطتين (1) و(2)", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "مشبك حديد", "count": 23678, "percentage": 85.5, "sector_percent": {"النعيرية": 1.4, "الدمام": 30.2, "القطيف": 20.2, "حفر الباطن": 21.9, "الجبيل": 6.6, "الخبر": 12.3, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.6, "بقيق": 1.7, "العديد": 0.3}}, {"answer": "شريط مطاطي", "count": 2247, "percentage": 8.1, "sector_percent": {"الدمام": 32.0, "النعيرية": 2.4, "الخبر": 14.9, "رأس تنورة": 1.2, "الجبيل": 10.1, "حفر الباطن": 19.8, "القرية العليا": 0.9, "القطيف": 13.1, "الخفجي": 3.1, "بقيق": 1.8, "العديد": 0.6}}, {"answer": "حبل من القطن", "count": 938, "percentage": 3.4, "sector_percent": {"الدمام": 32.2, "الخبر": 15.9, "الجبيل": 6.8, "النعيرية": 1.8, "رأس تنورة": 0.9, "حفر الباطن": 24.4, "الخفجي": 2.8, "القرية العليا": 0.7, "القطيف": 10.4, "بقيق": 2.7, "العديد": 1.4}}, {"answer": "ممحاة", "count": 837, "percentage": 3.0, "sector_percent": {"النعيرية": 1.7, "الدمام": 30.6, "الخبر": 13.3, "حفر الباطن": 27.6, "الجبيل": 6.8, "بقيق": 3.1, "العديد": 1.9, "القطيف": 10.5, "الخفجي": 3.0, "رأس تنورة": 1.2, "القرية العليا": 0.4}}]}, {"question": "خلية جنسية في الإنسان تحتوي على 23 كروموسومًا، فكم يكون عدد الكروموسومات في البويضة المخصبة (اللاقحة)؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "46", "count": 22673, "percentage": 81.9, "sector_percent": {"النعيرية": 1.4, "القطيف": 20.5, "الدمام": 30.0, "حفر الباطن": 21.6, "الخبر": 12.4, "الجبيل": 6.7, "رأس تنورة": 0.9, "القرية العليا": 0.8, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.2}}, {"answer": "23", "count": 3204, "percentage": 11.6, "sector_percent": {"الدمام": 31.8, "الخبر": 13.6, "حفر الباطن": 23.0, "رأس تنورة": 1.7, "الجبيل": 8.1, "النعيرية": 2.1, "القطيف": 13.1, "القرية العليا": 0.7, "الخفجي": 3.4, "بقيق": 1.6, "العديد": 0.8}}, {"answer": "30", "count": 1275, "percentage": 4.6, "sector_percent": {"النعيرية": 2.4, "الدمام": 31.8, "الجبيل": 7.6, "الخبر": 14.5, "رأس تنورة": 0.9, "القطيف": 10.3, "حفر الباطن": 24.7, "الخفجي": 3.1, "القرية العليا": 0.5, "بقيق": 2.3, "العديد": 1.9}}, {"answer": "92", "count": 548, "percentage": 2.0, "sector_percent": {"الدمام": 34.5, "الجبيل": 6.4, "الخبر": 14.2, "النعيرية": 0.9, "حفر الباطن": 25.0, "الخفجي": 4.2, "القطيف": 12.0, "العديد": 1.1, "بقيق": 0.5, "القرية العليا": 0.7, "رأس تنورة": 0.4}}]}, {"question": "في السلسلة الغذائية الموضحة في الشكل، ما الكائن الذي يُعدّ المستهلك الأول؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "الجرادة", "count": 19672, "percentage": 71.0, "sector_percent": {"النعيرية": 1.3, "الدمام": 29.9, "حفر الباطن": 21.0, "القطيف": 21.1, "الجبيل": 7.2, "الخبر": 12.5, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.4, "بقيق": 1.7, "العديد": 0.2}}, {"answer": "العشب", "count": 4220, "percentage": 15.2, "sector_percent": {"النعيرية": 2.3, "الدمام": 32.2, "القطيف": 14.5, "الجبيل": 6.8, "رأس تنورة": 1.0, "حفر الباطن": 22.5, "الخبر": 13.4, "القرية العليا": 0.9, "الخفجي": 3.7, "بقيق": 2.2, "العديد": 0.5}}, {"answer": "الصقر", "count": 2779, "percentage": 10.0, "sector_percent": {"الدمام": 31.3, "النعيرية": 2.4, "الخبر": 12.7, "الجبيل": 5.1, "حفر الباطن": 27.7, "رأس تنورة": 0.8, "القطيف": 12.0, "الخفجي": 4.1, "بقيق": 2.0, "القرية العليا": 0.6, "العديد": 1.2}}, {"answer": "الضفدع", "count": 1029, "percentage": 3.7, "sector_percent": {"رأس تنورة": 1.7, "حفر الباطن": 23.6, "الجبيل": 7.1, "الدمام": 31.1, "الخبر": 13.1, "القطيف": 16.2, "الخفجي": 3.0, "القرية العليا": 0.9, "بقيق": 1.6, "النعيرية": 0.9, "العديد": 0.9}}]}, {"question": "تُظهر الصورة طريقةً للمحافظة على التربة ومنع انجرافها بسبب الرياح. ما اسم هذه الطريقة؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "مصدّات الرياح", "count": 19778, "percentage": 71.4, "sector_percent": {"النعيرية": 1.6, "الدمام": 30.6, "الخبر": 12.6, "حفر الباطن": 23.3, "رأس تنورة": 1.0, "القطيف": 17.4, "الجبيل": 7.0, "القرية العليا": 0.8, "بقيق": 1.8, "الخفجي": 3.7, "العديد": 0.3}}, {"answer": "المصاطب الزراعية", "count": 6424, "percentage": 23.2, "sector_percent": {"الدمام": 29.7, "حفر الباطن": 17.7, "القطيف": 25.4, "الجبيل": 6.5, "الخبر": 12.7, "النعيرية": 1.4, "رأس تنورة": 0.9, "القرية العليا": 0.5, "الخفجي": 2.9, "بقيق": 1.9, "العديد": 0.5}}, {"answer": "تدوير المحاصيل", "count": 980, "percentage": 3.5, "sector_percent": {"القطيف": 14.2, "النعيرية": 1.1, "الدمام": 30.4, "الخبر": 13.3, "حفر الباطن": 24.5, "الجبيل": 7.4, "الخفجي": 2.7, "القرية العليا": 1.1, "بقيق": 2.0, "رأس تنورة": 1.0, "العديد": 2.2}}, {"answer": "الريّ بالتنقيط", "count": 518, "percentage": 1.9, "sector_percent": {"الدمام": 31.1, "الخبر": 15.4, "الجبيل": 6.6, "حفر الباطن": 22.6, "رأس تنورة": 1.5, "النعيرية": 2.1, "القطيف": 12.7, "القرية العليا": 1.2, "الخفجي": 4.4, "العديد": 1.0, "بقيق": 1.4}}]}, {"question": "تعيش بعض أنواع البكتيريا داخل أمعاء الأبقار وتساعدها على هضم الغذاء، وفي المقابل تحصل البكتيريا على الغذاء والمأوى. ما نوع العلاقة بين البكتيريا والأبقار؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "تبادل المنفعة", "count": 22252, "percentage": 80.3, "sector_percent": {"النعيرية": 1.5, "القطيف": 20.4, "الدمام": 30.1, "حفر الباطن": 21.9, "الجبيل": 7.0, "الخبر": 12.1, "رأس تنورة": 1.0, "القرية العليا": 0.8, "بقيق": 1.6, "الخفجي": 3.5, "العديد": 0.3}}, {"answer": "التعايش", "count": 3250, "percentage": 11.7, "sector_percent": {"النعيرية": 1.6, "الدمام": 30.9, "الخبر": 14.8, "حفر الباطن": 23.0, "رأس تنورة": 1.1, "الجبيل": 6.2, "الخفجي": 4.0, "القطيف": 14.2, "بقيق": 2.9, "القرية العليا": 0.7, "العديد": 0.6}}, {"answer": "التطفل", "count": 1429, "percentage": 5.2, "sector_percent": {"الدمام": 34.7, "الخبر": 14.7, "الجبيل": 6.6, "رأس تنورة": 1.0, "حفر الباطن": 23.3, "النعيرية": 1.7, "القطيف": 11.3, "العديد": 0.6, "القرية العليا": 0.9, "الخفجي": 3.4, "بقيق": 1.7}}, {"answer": "الافتراس", "count": 769, "percentage": 2.8, "sector_percent": {"الدمام": 30.4, "الخبر": 17.6, "الجبيل": 8.5, "رأس تنورة": 1.4, "القطيف": 14.0, "النعيرية": 1.6, "حفر الباطن": 19.2, "بقيق": 2.1, "الخفجي": 2.7, "القرية العليا": 0.4, "العديد": 2.1}}]}, {"question": "دفع طالبٌ صندوقًا كما هو موضّح في الشكل التالي. ما مقدار الشغل المبذول (بالجول)؟", "total": 27700, "gender_percent": {"بنين": 35.0, "بنات": 65.0}, "sector_percent": {"النعيرية": 1.5, "الدمام": 30.4, "القطيف": 19.0, "حفر الباطن": 22.0, "الجبيل": 6.9, "الخبر": 12.7, "رأس تنورة": 1.0, "القرية العليا": 0.7, "الخفجي": 3.5, "بقيق": 1.8, "العديد": 0.4}, "options": [{"answer": "30", "count": 21819, "percentage": 78.8, "sector_percent": {"النعيرية": 1.4, "الدمام": 29.9, "حفر الباطن": 21.3, "القطيف": 21.2, "الخبر": 12.3, "الجبيل": 6.8, "رأس تنورة": 0.9, "القرية العليا": 0.7, "بقيق": 1.8, "الخفجي": 3.4, "العديد": 0.3}}, {"answer": "120", "count": 2664, "percentage": 9.6, "sector_percent": {"القطيف": 11.8, "النعيرية": 1.9, "الدمام": 31.9, "رأس تنورة": 1.4, "حفر الباطن": 24.8, "الجبيل": 7.6, "الخفجي": 3.6, "الخبر": 13.6, "القرية العليا": 0.9, "بقيق": 1.7, "العديد": 0.9}}, {"answer": "12", "count": 1975, "percentage": 7.1, "sector_percent": {"الدمام": 33.0, "النعيرية": 1.9, "الجبيل": 7.2, "الخبر": 15.6, "حفر الباطن": 24.4, "رأس تنورة": 1.2, "القطيف": 9.5, "الخفجي": 3.4, "القرية العليا": 0.8, "العديد": 0.8, "بقيق": 2.3}}, {"answer": "160", "count": 1242, "percentage": 4.5, "sector_percent": {"الدمام": 32.4, "الجبيل": 7.7, "الخبر": 12.2, "حفر الباطن": 25.5, "رأس تنورة": 1.1, "القطيف": 10.8, "القرية العليا": 1.0, "الخفجي": 4.9, "بقيق": 2.0, "النعيرية": 2.2, "العديد": 0.2}}]}]}};
const COLORS=['#498AA8','#2F6581','#ABBDC6','#545355','#19171D','#7BAFD4','#95A5A6','#1F3A4D'];
const subjectKeys=Object.keys(data);
let currentSubject=subjectKeys[0];
let charts={};

const CORRECT_ANSWERS_BY_SUBJECT={
    "اللغة العربية - الصف السادس الابتدائي": [
        "ازدياد الحجم.",
        "مقاومة ظروف الجفاف.",
        "مخاطر التصحر.",
        "توضيح خطر ذلك على البيئة.",
        "التوسع العمراني.",
        "مقالي (معلوماتي).",
        "المستأنسة",
        "ملوحة المياه.",
        "منشار",
        "الرطبة"
    ],
    "الرياضيات - الصف السادس الابتدائي": [
        "أ",
        "د",
        "ج",
        "ج",
        "٥م ، ٩م",
        "ج",
        "د",
        "أ",
        "أ",
        "ب"
    ],
    "العلوم - الصف السادس الابتدائي": [
        "التبادل الغازي عن طريق الجلد",
        "الفجوة الكبيرة في الرسم (2)",
        "رسوبي",
        "حدث تغير كيميائي لأن مادة جديدة تكوّنت",
        "مشبك حديد",
        "46",
        "الجرادة",
        "مصدّات الرياح",
        "تبادل المنفعة",
        "30"
    ]
};

function populateSubjects(){
    const select=document.getElementById('subjectSelect');
    select.innerHTML='';
    subjectKeys.forEach(key=>{
        const option=document.createElement('option');
        option.value=key;
        option.textContent=key;
        select.appendChild(option);
    });
    select.value=currentSubject;
    select.addEventListener('change', (event)=>{
        currentSubject=event.target.value;
        updateDashboard();
    });
}

function renderSummaryCards(){
    const currentData=data[currentSubject];
    const container=document.getElementById('summaryCards');
    const genderEntries=Object.entries(currentData.gender_counts || {});
    const sectorEntries=Object.entries(currentData.sector_counts || {});
    let html=`<div class="card"><div class="card-label">إجمالي المشاركين</div><div class="card-value">${currentData.total_students}</div><div class="card-subtitle">طالب وطالبة</div></div>`;
    html+=`<div class="card"><div class="card-label">عدد الأسئلة</div><div class="card-value">${currentData.questions.length}</div><div class="card-subtitle">حسب المادة المختارة</div></div>`;
    genderEntries.forEach(([gender,count],index)=>{
        const percentage=((count/currentData.total_students)*100).toFixed(1);
        html+=`<div class="card"><div class="card-label">${gender}</div><div class="card-value" style="color:${COLORS[index % COLORS.length]}">${count}</div><div class="card-subtitle">${percentage}% من الإجمالي</div></div>`;
    });
    if(!genderEntries.length){
        html+=`<div class="card"><div class="card-label">النوع</div><div class="card-subtitle">لا توجد بيانات للنوع في هذه المادة</div></div>`;
    }
    html+=`<div class="card"><div class="card-label">عدد القطاعات</div><div class="card-value">${sectorEntries.length}</div><div class="card-subtitle">قطاعات مشاركة</div></div>`;
    container.innerHTML=html;
}

function renderGenderChart(){
    const currentData=data[currentSubject];
    const ctx=document.getElementById('genderChart');
    if(charts.gender) charts.gender.destroy();
    const genderData=Object.entries(currentData.gender_counts || {});
    charts.gender=new Chart(ctx,{
        type:'pie',
        data:{
            labels:genderData.map(([name])=>name),
            datasets:[{data:genderData.map(([,value])=>value),backgroundColor:COLORS,borderWidth:0}]
        },
        options:{
            responsive:true,
            maintainAspectRatio:false,
            plugins:{
                legend:{position:'bottom',labels:{font:{family:'Cairo',size:14},padding:12}},
                tooltip:{callbacks:{label:function(context){
                    const label=context.label||'';
                    const value=context.parsed;
                    const percentage=((value/currentData.total_students)*100).toFixed(1);
                    return `${label}: ${value} (${percentage}%)`;
                }}}
            }
        }
    });
}

function renderSectorChart(){
    const currentData=data[currentSubject];
    const ctx=document.getElementById('sectorChart');
    if(charts.sector) charts.sector.destroy();
    const sectorData=Object.entries(currentData.sector_counts || {}).sort((a,b)=>b[1]-a[1]).slice(0,8);
    charts.sector=new Chart(ctx,{
        type:'bar',
        data:{
            labels:sectorData.map(([name])=>name),
            datasets:[{data:sectorData.map(([,value])=>value),backgroundColor:COLORS,borderRadius:10}]
        },
        options:{
            responsive:true,
            maintainAspectRatio:false,
            plugins:{
                legend:{display:false},
                tooltip:{callbacks:{label:function(context){
                    const value=context.parsed.y;
                    const percentage=((value/currentData.total_students)*100).toFixed(1);
                    return `عدد الطلاب: ${value} (${percentage}%)`;
                }}}
            },
            scales:{y:{beginAtZero:true,ticks:{font:{family:'Cairo'}}},x:{ticks:{font:{family:'Cairo',size:11}}}}
        }
    });
}

function renderQuestions(){
    const currentData=data[currentSubject];
    const container=document.getElementById('questionsContainer');
    const questions=currentData.questions || [];
    container.innerHTML=questions.map((q,index)=>{
        const genderPercent=Object.entries(q.gender_percent || {})
            .map(([name,percent])=>`<span class="pill">${name}: ${percent}%</span>`)
            .join('');
        const sectorPercent=Object.entries(q.sector_percent || {})
            .sort((a,b)=>b[1]-a[1])
            .slice(0,8)
            .map(([name,percent])=>`<span class="sector-tag">${name}: ${percent}%</span>`)
            .join('');
        const correctAnswer=(CORRECT_ANSWERS_BY_SUBJECT[currentSubject] || [])[index];
        const options=q.options.map(option=>{
            const isCorrect=correctAnswer && option.answer === correctAnswer;
            const sectorTags=Object.entries(option.sector_percent || {})
                .sort((a,b)=>b[1]-a[1])
                .slice(0,8)
                .map(([name,percent])=>`<span class="sector-tag">${name}: ${percent}%</span>`)
                .join('');
            return `
                <div class="option-item ${isCorrect ? 'correct-option' : ''}">
                    <div class="option-header">
                        <div class="option-answer">${option.answer}</div>
                        <div class="option-stats">${option.count} إجابة • ${option.percentage}% ${isCorrect ? '<span class="correct-badge">الإجابة الصحيحة</span>' : ''}</div>
                    </div>
                    <div class="progress-bar"><div class="progress-fill" style="width: ${option.percentage}%"></div></div>
                    <details>
                        <summary>نسبة القطاعات ضمن هذا الاختيار</summary>
                        <div class="sector-list">${sectorTags || '<span class="sector-tag">لا توجد بيانات قطاع</span>'}</div>
                    </details>
                </div>`;
        }).join('');
        return `
            <div class="question-card">
                <div class="question-title">${index + 1}. ${q.question}</div>
                <div class="question-meta">
                    <span>عدد الإجابات: <strong>${q.total}</strong></span>
                    ${genderPercent || '<span class="pill">لا توجد نسب للنوع</span>'}
                </div>
                <div class="sector-list">${sectorPercent || '<span class="sector-tag">لا توجد نسب للقطاعات</span>'}</div>
                <div class="option-list">${options}</div>
            </div>`;
    }).join('');
}

function updateDashboard(){
    renderSummaryCards();
    renderGenderChart();
    renderSectorChart();
    renderQuestions();
}

window.addEventListener('load', () => {
    populateSubjects();
    updateDashboard();
});
    </script>
</body>
</html>
